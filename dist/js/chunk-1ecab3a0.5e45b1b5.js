(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ecab3a0"],{"258c":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"zcbzHtml_two"},[e._m(0),i("div",{staticStyle:{height:"70px"}}),i("div",{staticClass:"zc2_div_body"},[e._m(1),i("ul",{staticClass:"zc2_ul_form"},[i("li",{staticClass:"form_list"},[i("div",{staticClass:"formList_name"},[e._v("账号名称")]),i("div",{staticClass:"formList_box"},[i("div",{ref:"uninput",staticClass:"formList_input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.userform.username,expression:"userform.username"}],staticClass:"input_name",attrs:{type:"text"},domProps:{value:e.userform.username},on:{input:[function(t){t.target.composing||e.$set(e.userform,"username",t.target.value)},function(t){return e.inputName()}],focus:function(t){return e.focusName()},blur:function(t){return e.blurName()}}}),i("p",[e._v(e._s(e.userform.username.length)+"/15")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.warning.un>0&&e.warning.un<6,expression:"warning.un > 0 && warning.un < 6"}],staticClass:"form_error"},[e._v("\n            "+e._s(e.warning.un>1?"账号名不符合命名规则":"账号名不得为空")+"\n          ")]),i("div",{staticClass:"form_tis"},[i("span",[e._v("长度2-15个字，中英文不限，请勿使用含有特殊符号和推广意图明显的账号名称")]),i("Tooltip",{scopedSlots:e._u([{key:"body",fn:function(){return[i("div",{staticClass:"tooltip_p"},[e._v("\n                  备考猫创作者账号名称中含有以下内容，将不予通过:"),i("br"),i("br"),e._v("\n                  1. 色情、反动、血腥及上级主管机关明令禁止的其他内容;"),i("br"),e._v("\n                  2.特殊符号、空格、火星文;"),i("br"),e._v("\n                  3.含有QQ、微信、微博、网址、邮箱、手机号等联系方式;"),i("br"),e._v("\n                  4.冒用他人、社会公众人物、明星、企业及组织的名称;"),i("br"),e._v("\n                  5.单独以国家城市省份命名的名称;"),i("br"),e._v("\n                  6.包含但不限于中考、高考等K12教育性质的名称;"),i("br")])]},proxy:!0}])},[i("img",{staticClass:"img_question",attrs:{src:s("ebaa")}})])],1)])]),i("li",{staticClass:"form_list"},[i("div",{staticClass:"formList_name"},[e._v("账号简介")]),i("div",{staticClass:"formList_box"},[i("div",{ref:"jianjie",staticClass:"formList_input",staticStyle:{height:"120px"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.userform.idtitle,expression:"userform.idtitle"}],staticClass:"form_textarea",domProps:{value:e.userform.idtitle},on:{focus:e.focusJianjie,blur:e.blurJianjie,input:function(t){t.target.composing||e.$set(e.userform,"idtitle",t.target.value)}}}),i("p",{staticStyle:{top:"calc(100% - 23px)"}},[e._v("\n              "+e._s(e.userform.idtitle.length)+"/120\n            ")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.warning.it>0&&e.warning.it<6,expression:"warning.it > 0 && warning.it < 6"}],staticClass:"form_error"},[e._v("\n            "+e._s(e.warning.it>1?"不可出现电话、微信、广告营销等信息":"账号简介不得为空，且最大字数不得超过120个")+"\n          ")]),i("span",[e._v("可填写帐号的定位、作者简介、作者身份或影响力等信息，简介将显示在帐号主页，请勿发布手机号、邮箱、广告营销等信息，请勿超过120个字")])])]),i("li",{staticClass:"form_list"},[i("div",{staticClass:"formList_name"},[e._v("账号头像")]),i("div",{staticClass:"formList_uploader_box"},[i("div",{staticClass:"formList_uploader"},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","auto-upload":!1,"show-file-list":!1,accept:"image/png,image/jpeg,image/jpg","on-change":e.changeUpload}},[e.userform.imageUrl?i("img",{staticClass:"formList_uploader_img",attrs:{src:e.userform.imageUrl}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.warning.iu>0&&e.warning.iu<6,expression:"warning.iu > 0 && warning.iu < 6"}],staticClass:"form_error"},[e._v("\n            "+e._s(e.warning.iu>1?"请上传正确格式的图像":"上传图像不得为空")+"\n          ")]),i("span",[e._v("能代表个人品牌形象，请勿使用二维码和侵权头像，图片建议尺寸不低于200*200像素，大小不超过5M，支持jpg、jpeg和png格式")])])]),i("li",{staticClass:"form_list"},[i("div",{staticClass:"div_input_consent"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.userform.isConsent,expression:"userform.isConsent"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.userform.isConsent)?e._i(e.userform.isConsent,null)>-1:e.userform.isConsent},on:{change:function(t){var s=e.userform.isConsent,i=t.target,r=!!i.checked;if(Array.isArray(s)){var a=null,n=e._i(s,a);i.checked?n<0&&e.$set(e.userform,"isConsent",s.concat([a])):n>-1&&e.$set(e.userform,"isConsent",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.userform,"isConsent",r)}}}),e._m(2)])])]),i("div",{staticClass:"zc2_div_next",style:e.userform.isConsent?"background-color:#FF6246;cursor: pointer;":"background-color:#C8C8D3;cursor: no-drop;",on:{click:function(t){return e.userNext()}}},[e._v("\n      下一步\n    ")])]),i("el-dialog",{attrs:{title:"上传账号头像",visible:e.centerDialogVisible,width:"720px"},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[i("div",{staticClass:"zc2_div_copper"},[i("VueCropper",{ref:"cropper",staticStyle:{width:"280px",height:"180px"},attrs:{img:e.posterURL,autoCrop:!0,original:!1,centerBox:"",fixed:"",full:!1,fixedNumber:[1,1],canMoveBox:"",infoTrue:!0,outputSize:1,height:!0,outputType:"png"},on:{realTime:e.realTime}}),i("div",{staticClass:"zc2_div_headimg"},[i("p",[e._v("预览")]),i("div",{staticClass:"zc2_img_show"},[i("div",{staticClass:"zc2_img_showLeft"},[i("div",{style:e.previewStyle},[i("div",{style:e.previews.div},[i("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])]),i("div",{staticClass:"zc2_img_showRight"},[i("div",{style:e.previewStyle},[i("div",{style:e.previews.div},[i("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])])])])],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.confirmImg}},[e._v("确 定")]),i("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取 消")])],1)])],1)},r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"nr_header"},[i("div",{staticClass:"nr_header_left"},[i("div",[i("img",{attrs:{src:s("67b8")}})]),i("div",{staticClass:"nr_header_left_title"},[e._v("备考猫创作中心")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"zc_topSchedule"},[s("p",{staticClass:"p_xian",staticStyle:{background:"#fd6246"}}),s("p",{staticClass:"p_xian"}),s("div",{staticClass:"schedule_formerly"},[s("span",[e._v("1")])]),s("div",{staticClass:"schedule_now"},[s("span",[e._v("2")])]),s("div",{staticClass:"schedule_future"},[s("span",[e._v("3")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"div_consent_agreement"},[s("span",[e._v("我已阅读并同意")]),s("a",{attrs:{href:"https://bkm.heyhui.com/#/agreement",target:"_blank"}},[e._v("《备考猫内容创作平台协议》")])])}],a=(s("a481"),s("7e79")),n=s("0b22"),o=s("3ee2"),l=s("bb9e"),u={data:function(){return{userid:null,active:1,userform:{username:"",idtitle:"",imageUrl:null,uploadImg:null,isConsent:!1},warning:{un:0,it:0,iu:0},posterURL:"",centerDialogVisible:!1,imageZoom:0,previews:{},previewStyle:""}},created:function(){var e=this,t=sessionStorage.getItem("loginUser");if(t){var s=JSON.parse(t);this.userid=s.id,Object(n["a"])({url:"/user/userView",data:{czz_id:s.id}}).then((function(t){console.log(t);var i=t.data.data.token;if(i==s.token){console.log("重新继承数据",t.data.data);var r=t.data.data,a=r.nickname,n=r.summary,o=r.himg,l=r.showhimg;e.warning.un=e.strIsnull(a),e.userform.username=a,e.warning.it=e.strIsnull(n),e.userform.idtitle=n,e.userform.imageUrl=l,e.warning.iu=e.strIsnull(l),e.userform.uploadImg=o,e.userform.isConsent=!0}else e.$message.error("您的注册信息有误！请重新注册"),e.$router.push({name:"zhuce1"})}))}else this.$message.error("您的注册信息有误！请重新注册"),this.$router.push({name:"zhuce1"})},methods:{strIsnull:function(e){var t=6;return 0==e.length&&(t=0),t},inputName:function(){var e=this.userform.username.length,t=/^[\u4e00-\u9fa5a-zA-Z]+$/;0==e?(this.warning.un=1,this.$refs.uninput.style="border: 1px solid #F23C42"):t.test(this.userform.username)?e<2||e>15?(this.warning.un=2,this.$refs.uninput.style="border: 1px solid #F23C42;"):(this.warning.un=6,this.$refs.uninput.style="border: 1px solid #dcdfe6;"):(this.warning.un=2,this.$refs.uninput.style="border: 1px solid #F23C42;")},focusName:function(){this.$refs.uninput.style="border: 1px solid #dcdfe6;"},blurName:function(){0==this.userform.username.length&&(this.warning.un=1,this.$refs.uninput.style="border: 1px solid #F23C42;")},focusJianjie:function(){this.$refs.jianjie.style="border: 1px solid #dcdfe6"},blurJianjie:function(){var e=this.userform.idtitle,t=this.userform.idtitle.length,s=/(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}/g,i=/((ht|f)tps?:)\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g,r=/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/g;console.log(s.test(e),i.test(e),r.test(e)),0==t?(this.warning.it=1,this.$refs.jianjie.style="border: 1px solid #F23C42"):s.test(e)||i.test(e)||r.test(e)?(this.warning.it=2,this.$refs.jianjie.style="border: 1px solid #F23C42"):t>120?(this.warning.it=1,this.$refs.jianjie.style="border: 1px solid #F23C42"):(this.warning.it=6,this.$refs.jianjie.style="border: 1px solid #dcdfe6")},changeUpload:function(e){var t=e.raw,s=t.size,i=t.type,r=["image/png","image/jpeg","image/jpg"];s/1024/1024<5&&-1!=r.indexOf(i)?(this.posterURL=URL.createObjectURL(e.raw),this.centerDialogVisible=!0):this.$message.error("请选择正确格式的图片")},realTime:function(e){var t=e;this.previewStyle={width:t.w+"px",height:t.h+"px",overflow:"hidden",margin:"0",zoom:108/t.h},this.previews=e},confirmImg:function(){var e=this;this.$refs.cropper.getCropBlob((function(t){var s=new FormData;s.append("file",t),Object(o["a"])({baseURL:"https://bkmcsapi.heyhui.com",url:"/page/upload/uploadImgs",data:{file:s},headers:{"Content-Type":"multipart/form-data"},transformRequest:[function(){return s}]}).then((function(t){t.data.status?(e.userform.imageUrl=t.data.showurl,e.userform.uploadImg=t.data.url,e.warning.iu=6):e.$message.error("上传失败请稍后再试!"),e.centerDialogVisible=!1})).catch((function(t){console.log("请求错误"),e.centerDialogVisible=!1}))}))},userNext:function(){var e=this;if(this.userform.isConsent){var t=this.warning,s=t.un,i=t.it,r=t.iu;console.log(this.warning);var a=6==s&&6==i&&6==r;a?(console.log(this.userform),Object(n["a"])({url:"/login/setaccount",data:{user_id:this.userid,nickname:this.userform.username,summary:this.userform.idtitle,himg:this.userform.uploadImg,biaoqian:""}}).then((function(t){console.log("提交信息",t),1==t.data.st?e.$router.replace({name:"zhuce3"}):e.$message.error("提交失败！请稍后再试")}))):this.$message.error("请将表单填写完成后再操作")}}},components:{VueCropper:a["VueCropper"],Tooltip:l["a"]}},c=u,m=(s("9ded"),s("2877")),d=Object(m["a"])(c,i,r,!1,null,"4a2ceb50",null);t["default"]=d.exports},"37f1":function(e,t,s){},"9ded":function(e,t,s){"use strict";s("37f1")}}]);
//# sourceMappingURL=chunk-1ecab3a0.5e45b1b5.js.map